{#
/**
 * @file
 * Theme override to display a region.
 *
 * Available variables:
 * - content: The content for this region, typically blocks.
 * - attributes: HTML attributes for the region <div>.
 * - region: The name of the region variable as defined in the theme's
 *   .info.yml file.
 *
 * @see template_preprocess_region()
 */
#}
{% if content %}
  <div class="flex items-center justify-between px-4 py-6 h-20" 
       x-data="{ mobileMenuOpen: false }"
       x-effect="document.body.style.overflow = mobileMenuOpen ? 'hidden' : 'auto'">
    <!-- Site Branding - Always visible on left -->
    <div class="flex-shrink-0">
      {{ elements.lug_mobile_site_branding }}

    </div>
    {{ elements.lug_mobile_user_account_menu }}

    <!-- Burger Menu Button -->
    <button type="button" @click="$dispatch('toggle-mobile-menu')"
            class="flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500">
      <span class="sr-only">Open main menu</span>
      <!-- Hamburger icon -->
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>

    <!-- Mobile Menu Overlay -->
    <div x-show="mobileMenuOpen" @toggle-mobile-menu.window="mobileMenuOpen = !mobileMenuOpen"
         x-transition:enter="transition-opacity ease-linear duration-300"
         x-transition:enter-start="opacity-0"
         x-transition:enter-end="opacity-100"
         x-transition:leave="transition-opacity ease-linear duration-300"
         x-transition:leave-start="opacity-100"
         x-transition:leave-end="opacity-0"
         class="fixed z-50" x-cloak
         style="top: var(--drupal-displace-offset-top, 0px); left: 0; right: 0; bottom: 0;">

      <!-- Backdrop -->
      <div class="absolute inset-0 bg-black opacity-25" @click="mobileMenuOpen = false"></div>

      <!-- Menu Panel -->
      <div class="relative h-full flex flex-col bg-white">
        <!-- Header with branding and close button -->
        <div class="flex items-center justify-between px-4 py-6 h-20 border-b border-gray-200">
          <div class="flex-shrink-0">
            {{ elements.lug_mobile_site_branding }}
          </div>
          {{ elements.lug_mobile_user_account_menu }}

          <button type="button" @click="mobileMenuOpen = false"
                  class="flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100">
            <span class="sr-only">Close menu</span>
            <!-- Close icon -->
            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>

        <!-- Menu Content -->
        <div class="flex-1 overflow-y-auto p-4">
          <div class="space-y-4">
            {{ elements.lug_mobile_main_menu }}
          </div>
        </div>
      </div>
    </div>

  </div>
{% endif %}
